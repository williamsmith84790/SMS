{% extends 'base.html' %}

{% block content %}
<!-- Slider -->
<div id="homeCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
  <div class="carousel-inner">
    {% for slider in slider_images %}
    <div class="carousel-item {% if forloop.first %}active{% endif %}">
      <img src="{{ slider.image.url }}" class="d-block w-100" alt="{{ slider.title }}" style="height: 400px; object-fit: cover;">
      {% if slider.title %}
      <div class="carousel-caption d-none d-md-block">
        <h5>{{ slider.title }}</h5>
      </div>
      {% endif %}
    </div>
    {% endfor %}
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#homeCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#homeCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<div class="row">
    <!-- Notice Board -->
    <div class="col-md-8">
        <h2 class="mb-3 border-bottom pb-2">Welcome to Our Portal</h2>
        <p class="lead">Providing excellence in education and fostering a community of learners.</p>
        <div class="row mt-4">
             <div class="col-md-6">
                <div class="card h-100">
                    <div class="card-header bg-success text-white">Academic Calendar</div>
                    <div class="card-body">
                        <p>Check out the latest academic schedule...</p>
                        <a href="#" class="btn btn-sm btn-outline-success">View More</a>
                    </div>
                </div>
             </div>
             <div class="col-md-6">
                <div class="card h-100">
                    <div class="card-header bg-info text-white">Student Life</div>
                    <div class="card-body">
                        <p>Explore our societies and clubs...</p>
                        <a href="#" class="btn btn-sm btn-outline-info">View More</a>
                    </div>
                </div>
             </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card">
            <div class="card-header bg-warning text-dark">
                <i class="fas fa-bullhorn"></i> Notice Board
            </div>
            <ul class="list-group list-group-flush">
                {% for notice in notices %}
                <li class="list-group-item">
                    <h6 class="mb-1">{{ notice.title }}</h6>
                    <small class="text-muted">{{ notice.date_posted }}</small>
                    {% if notice.file %}
                    <br><a href="{{ notice.file.url }}" class="badge bg-secondary text-decoration-none">Download</a>
                    {% endif %}
                </li>
                {% empty %}
                <li class="list-group-item">No recent notices.</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}
